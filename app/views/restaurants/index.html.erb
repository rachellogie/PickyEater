<div class="container-fluid">

  <div class="container">
    <div class="row">

      <div class="col-xs-12">
        <h1>Restaurants near <%= @search_city %></h1>

        <h2>Only show 100% gluten free, etc. options go here</h2>

        <h2><%= link_to "Search again", root_path %> |
          <% if @view == 'map' %>
            <%= link_to "List View", restaurants_path(city: @search_city, view: "list") %></h2>
          <% else %>
            <%= link_to "Map View", restaurants_path(city: @search_city, view: "map") %></h2>

          <% end %>

          </div>
    </div>

  </div>


  <div class="container">

    <div class="row">
      <% if @view == 'map' %>
        <%= content_tag "div", id: "google-map", class: "col-xs-12", data: {restaurants: @restaurants} do %>
        <% end %>
      <% else %>
        <% @restaurants.each do |restaurant| %>
          <%= render 'restaurants/restaurant_square', r: restaurant %>
        <% end %>

      <% end %>
    </div>
  </div>


</div>



<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAPS_KEY'] %>&callback=initMap">
</script>